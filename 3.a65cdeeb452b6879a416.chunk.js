webpackJsonp([3],{AbEK:function(e,t){e.exports='<style>\n  .nav.nav-tabs.nav-top-border .nav-item a.nav-link.active {\n    border-top: 3px solid #FF9800;\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n    color: #555;\n  }\n\n  .nav.nav-tabs.nav-top-border .nav-item a {\n    color: #9E9E9E;\n  }\n</style>\n<div class="app-content content container-fluid" style="">\n  <div class="content-wrapper">\n    <div class="content-header row">\n\n      <h3 class="content-header-title mb-0"><i class="icon-cubes"></i> OTA Device Model Batches\n\n        <a href="javascript:void(0)" class="btn btn-orange float-xs-right " style="color:#fff"\n           (click)="openAddTemplateModal()">\n          <i class="icon-plus" style="color:#fff"></i> Create OTA Model Batch\n        </a>\n\n      </h3>\n\n      <hr>\n\n    </div>\n    <div class="content-body match-height" style="height:77vh">\n\n      <div class="card" style="">\n        <div class="card-header" *ngIf="otaBatchList.length > 0">\n          <h4 class="card-title">Total OTA Device Model Batches : {{otaBatchCount}}</h4>\n          <a class="heading-elements-toggle"><i class="icon-ellipsis font-medium-3"></i></a>\n          <div class="heading-elements">\n            <ul class="list-inline mb-0">\n              <li><a data-action="reload"><i class="icon-reload"></i></a></li>\n              <li><a data-action="expand"><i class="icon-expand2"></i></a></li>\n            </ul>\n          </div>\n        </div>\n        <div class="card-body collapse in">\n          <div class="card-block" >\n\n\n            <div *ngIf="otaBatchList.length === 0" style="text-align: center; padding:100px" class="grey">\n              <i class="icon-cubes font-large-5"></i>\n\n              <p class="font-medium-5 mt-1">No OTA Device Model Batch(s) Found in this domain.</p>\n\n            </div>\n\n\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>\n'},DZxZ:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=n("/oeL"),a=n("qbdv"),o=n("bm2B"),r=n("CPp0"),s=n("BkNc"),l=n("FEt5"),c=n("RugZ"),d=n("bXVx"),f=n("ODW9"),u=n("giKB"),h=n("RUxj"),p=(n("5v8a"),n("ww/K")),m=n("ue/A"),v=n("FMac"),b=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},w=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},g=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},O=function(){function e(e,t,n){this.http=e,this.basePath=d.a.basePath,this.defaultHeaders=new r.a,this.configuration=new m.a,t&&(this.basePath=t),n&&(this.configuration=n)}return e.prototype.deleteFirmware=function(e,t,n,i){return this.deleteFirmwareWithHttpInfo(e,t,n,i).map(function(e){return 204===e.status?void 0:e.json()||{}})},e.prototype.deleteFirmwareWithHttpInfo=function(e,t,n,i){var a=this.basePath+"/firmware/delete/${atoken}/${dmid}/${ver}".replace("${atoken}",String(e)).replace("${dmid}",String(t)).replace("${ver}",String(n)),o=new r.f,s=new r.a(this.defaultHeaders.toJSON());if(null===e||void 0===e)throw new Error("Required parameter atoken was null or undefined when calling deleteFirmware.");if(null===t||void 0===t)throw new Error("Required parameter dmid was null or undefined when calling deleteFirmware.");if(null===n||void 0===n)throw new Error("Required parameter ver was null or undefined when calling deleteFirmware.");var l=new r.e({method:r.d.Delete,headers:s,search:o});return i&&(l=Object.assign(l,i)),this.http.request(a,l)},e}();O=b([Object(i.Injectable)(),g(1,Object(i.Optional)()),g(1,Object(i.Inject)(p.a)),g(2,Object(i.Optional)()),w("design:paramtypes",["function"==typeof(y=void 0!==v.a&&v.a)&&y||Object,String,"function"==typeof(j=void 0!==m.a&&m.a)&&j||Object])],O);var y,j,R=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},P=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},_=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},A=function(){function e(e,t,n){this.http=e,this.basePath=d.a.basePath,this.defaultHeaders=new r.a,this.configuration=new m.a,t&&(this.basePath=t),n&&(this.configuration=n)}return e.prototype.downloadFirmware=function(e,t,n,i,a){return this.downloadFirmwareWithHttpInfo(e,t,n,i,a).map(function(e){return 204===e.status?void 0:e})},e.prototype.downloadFirmwareWithHttpInfo=function(e,t,n,i,a){var o=this.basePath+"/ota/update/download/${dkey}/${akey}/${dmdl}/${fwver}".replace("${dkey}",String(e)).replace("${akey}",String(t)).replace("${dmdl}",String(n)).replace("${fwver}",String(i)),s=new r.f,l=new r.a(this.defaultHeaders.toJSON());if(null===e||void 0===e)throw new Error("Required parameter dkey was null or undefined when calling downloadFirmware.");if(null===t||void 0===t)throw new Error("Required parameter akey was null or undefined when calling downloadFirmware.");if(null===n||void 0===n)throw new Error("Required parameter dmdl was null or undefined when calling downloadFirmware.");if(null===i||void 0===i)throw new Error("Required parameter fwver was null or undefined when calling downloadFirmware.");var c=new r.e({method:r.d.Get,headers:l,search:s});return a&&(c=Object.assign(c,a)),this.http.request(o,c)},e}();A=R([Object(i.Injectable)(),_(1,Object(i.Optional)()),_(1,Object(i.Inject)(p.a)),_(2,Object(i.Optional)()),P("design:paramtypes",["function"==typeof(F=void 0!==v.a&&v.a)&&F||Object,String,"function"==typeof(M=void 0!==m.a&&m.a)&&M||Object])],A);var F,M,D=n("dXww"),S=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},B=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},T=function(){function e(e,t,n,i,a,o,r,s){this.router=e,this._cookieService=t,this._listDeviceModelsApi=n,this._countAllFirmwareVersionsApi=i,this._countAllFirmwaresApi=a,this._listFirmwareApi=o,this._deleteDeviceFirmwareApi=r,this._downloadFirmwareApi=s,this.notification=new D.a,this.userObj={},this.firmwareObj={},this.modal={},this.deviceModel=null,this.firmwareList=[],this.modelList=[],this.firmwareCount=0,this.firmwareModelCount=0,this.msgPagination=!1,this.msgPageSize=6,this.msgPageNo=1}return e.prototype.ngOnDestroy=function(){},e.prototype.ngOnInit=function(){this.userObj&&(this.userObj=JSON.parse(this._cookieService.get("user_details"))),this.loadFimwareCount(),this.loadDeviceModels()},e.prototype.loadFimwareCount=function(){var e=this;this._countAllFirmwaresApi.countAllFirmwares(this.userObj.token).subscribe(function(t){e.firmwareCount=t.total},function(e){e&&417===e.status&&(console.log("Error :",e),console.log("Error in getting firmware count"))})},e.prototype.loadDeviceModels=function(){var e=this;this._listDeviceModelsApi.listDeviceModels(this.userObj.token,100).subscribe(function(t){e.modelList=t},function(e){e&&417===e.status&&(console.log("Error :",e),console.log("Error in create/update device"))})},e.prototype.loadFirmwareVersion=function(e){this.loadFirmwareList(null,null)},e.prototype.loadFirmwareList=function(e,t){var n=this;this._countAllFirmwareVersionsApi.countAllFirmwareVersions(this.userObj.token,this.deviceModel).subscribe(function(i){n.firmwareModelCount=i.total,n.firmwareModelCount>n.msgPageSize?n.msgPagination=!0:n.msgPagination=!1,n._listFirmwareApi.listFirmware(n.userObj.token,n.deviceModel,n.msgPageSize,e,t).subscribe(function(e){n.firmwareList=e},function(e){e&&417===e.status&&(console.log("Error :",e),console.log("Error in getting firmware list"))})},function(e){e&&417===e.status&&(console.log("Error :",e),console.log("Error in getting firmware version model count"))})},e.prototype.loadPrevMsg=function(){this.msgPageNo>1&&(this.msgPageNo--,this.loadFirmwareList("PREV",this.firmwareList[0].version))},e.prototype.loadNxtMsg=function(){var e=Math.ceil(this.firmwareModelCount/this.msgPageSize);this.msgPageNo<e&&(this.msgPageNo++,this.loadFirmwareList("NEXT",this.firmwareList[this.firmwareList.length-1].version))},e.prototype.uploadFile=function(e){var t=this;return new Promise(function(n,i){var a=new XMLHttpRequest;a.onreadystatechange=function(){4===a.readyState&&(200===a.status?($("#widgetModal_firmware").modal("hide"),t.deviceModel=t.firmwareObj.deviceModel,t.loadFirmwareList(null,null),t.notification.send("top","success","New firmware version upload/updated successfully!"),n(JSON.parse(a.response))):(console.log("Error in uploading new firmware verion"),t.notification.send("top","error","Error in firmware upload!"),i(a.response)),$("#uploadBtn").html("Upload Firmware"))},a.open("POST",d.a.basePath+"/firmware/upload/"+t.userObj.token+"/"+t.firmwareObj.deviceModel+"/"+t.firmwareObj.version,!0);var o=new FormData;o.append("binfile",e,e.name),o.append("desc",t.firmwareObj.description),a.send(o)})},e.prototype.upsertFirmwareModal=function(e){var t=this,n=document.getElementById("firmwareFile"),i=n.files;if(0===i.length)return t.notification.send("top","error","File not found. select a file to start upload"),!1;this.uploadFile(i[0]),$("#uploadBtn").html('<i class="icon-spinner icon-spin"></i> Uploading in progress')},e.prototype.deleteFirmwareModel=function(){var e=this;this._deleteDeviceFirmwareApi.deleteFirmware(this.userObj.token,this.firmwareObj.deviceModel,this.firmwareObj.version).subscribe(function(t){$("#widgetModal_firmware_delete").modal("hide"),e.notification.send("top","success","Firmware "+e.firmwareObj.version+" deleted successfully!"),e.loadFirmwareList(null,null)},function(t){t&&417===t.status&&(console.log("Error :",t),console.log("Error in deleting firmware version"),e.notification.send("top","error","Error in firmware delete!"))})},e.prototype.saveData=function(e,t,n){var i=document.createElement("a");document.body.appendChild(i),i.id="downloadFile",$("#downloadFile").css("display","none");var a=new Blob([e],{type:t}),o=window.URL.createObjectURL(a);i.href=o,i.download=n,i.click(),window.URL.revokeObjectURL(o)},e.prototype.downloadFirmware=function(e){var t=this;this._downloadFirmwareApi.downloadFirmware(this.userObj.domainKey,this.userObj.apiKey,e.deviceModel,e.version).subscribe(function(n){t.saveData(n._body,e.contentType,e.fileName)},function(e){e&&417===e.status&&(console.log("Error :",e),console.log("Error in downloading firmware version"),t.notification.send("top","error","Error in downloading!"))})},e.prototype.openAddFrimwareModal=function(){this.modal={title:"Add New Firmware version",button:"Upload Firmware",action:"",disabled:!0},this.firmwareObj={},this.deviceModel&&(this.firmwareObj.deviceModel=this.deviceModel),$("#widgetModal_firmware").modal("show")},e.prototype.openEditFirmwareModal=function(e){this.modal={title:"Edit Firmware Version",button:"Update Firmware",action:"readonly",disabled:!1},this.firmwareObj=e,$("#widgetModal_device").modal("show")},e.prototype.openDeleteFirmwareModal=function(e){this.firmwareObj=e,$("#widgetModal_firmware_delete").modal("show")},e}();T=S([Object(i.Component)({selector:"app-firmware",template:n("SF/3"),styles:[n("RrE8")]}),B("design:paramtypes",["function"==typeof(k=void 0!==s.c&&s.c)&&k||Object,"function"==typeof(E=void 0!==l.CookieService&&l.CookieService)&&E||Object,"function"==typeof(I=void 0!==c.a&&c.a)&&I||Object,"function"==typeof(x=void 0!==f.a&&f.a)&&x||Object,"function"==typeof(q=void 0!==u.a&&u.a)&&q||Object,"function"==typeof(H=void 0!==h.a&&h.a)&&H||Object,"function"==typeof(L=void 0!==O&&O)&&L||Object,"function"==typeof(N=void 0!==A&&A)&&N||Object])],T);var k,E,I,x,q,H,L,N,C=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},W=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},z=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},J=function(){function e(e,t,n){this.http=e,this.basePath=d.a.basePath,this.defaultHeaders=new r.a,this.configuration=new m.a,t&&(this.basePath=t),n&&(this.configuration=n)}return e.prototype.countAllDeviceOTABatchMembers=function(e,t,n){return this.countAllDeviceOTABatchMembersWithHttpInfo(e,t,n).map(function(e){return 204===e.status?void 0:e.json()||{}})},e.prototype.countAllDeviceOTABatchMembersWithHttpInfo=function(e,t,n){var i=this.basePath+"/dota/member/count/${atoken}/${id}".replace("${atoken}",String(e)).replace("${id}",String(t)),a=new r.f,o=new r.a(this.defaultHeaders.toJSON());if(null===e||void 0===e)throw new Error("Required parameter atoken was null or undefined when calling countAllDeviceOTABatchMembers.");if(null===t||void 0===t)throw new Error("Required parameter id was null or undefined when calling countAllDeviceOTABatchMembers.");var s=new r.e({method:r.d.Post,headers:o,search:a});return n&&(s=Object.assign(s,n)),this.http.request(i,s)},e}();J=C([Object(i.Injectable)(),z(1,Object(i.Optional)()),z(1,Object(i.Inject)(p.a)),z(2,Object(i.Optional)()),W("design:paramtypes",["function"==typeof(V=void 0!==v.a&&v.a)&&V||Object,String,"function"==typeof(U=void 0!==m.a&&m.a)&&U||Object])],J);var V,U,G=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},K=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},X=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},Z=function(){function e(e,t,n){this.http=e,this.basePath=d.a.basePath,this.defaultHeaders=new r.a,this.configuration=new m.a,t&&(this.basePath=t),n&&(this.configuration=n)}return e.prototype.createDeviceOTABatch=function(e,t,n,i,a,o){return this.createDeviceOTABatchWithHttpInfo(e,t,n,i,a,o).map(function(e){return 204===e.status?void 0:e.json()||{}})},e.prototype.createDeviceOTABatchWithHttpInfo=function(e,t,n,i,a,o){var s=this.basePath+"/dota/create/${atoken}/${name}/${tmodel}/${tver}".replace("${atoken}",String(e)).replace("${name}",String(t)).replace("${tmodel}",String(n)).replace("${tver}",String(i)),l=new r.f,c=new r.a(this.defaultHeaders.toJSON());if(null===e||void 0===e)throw new Error("Required parameter atoken was null or undefined when calling createDeviceOTABatch.");if(null===t||void 0===t)throw new Error("Required parameter name was null or undefined when calling createDeviceOTABatch.");if(null===n||void 0===n)throw new Error("Required parameter tmodel was null or undefined when calling createDeviceOTABatch.");if(null===i||void 0===i)throw new Error("Required parameter tver was null or undefined when calling createDeviceOTABatch.");void 0!==a&&l.set("expireAt",a.toISOString());var d=new r.e({method:r.d.Get,headers:c,search:l});return o&&(d=Object.assign(d,o)),this.http.request(s,d)},e}();Z=G([Object(i.Injectable)(),X(1,Object(i.Optional)()),X(1,Object(i.Inject)(p.a)),X(2,Object(i.Optional)()),K("design:paramtypes",["function"==typeof(Y=void 0!==v.a&&v.a)&&Y||Object,String,"function"==typeof(Q=void 0!==m.a&&m.a)&&Q||Object])],Z);var Y,Q,ee=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},te=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ne=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},ie=function(){function e(e,t,n){this.http=e,this.basePath=d.a.basePath,this.defaultHeaders=new r.a,this.configuration=new m.a,t&&(this.basePath=t),n&&(this.configuration=n)}return e.prototype.deleteDeviceOTABatch=function(e,t,n){return this.deleteDeviceOTABatchWithHttpInfo(e,t,n).map(function(e){return 204===e.status?void 0:e.json()||{}})},e.prototype.deleteDeviceOTABatchWithHttpInfo=function(e,t,n){var i=this.basePath+"/dota/delete/${atoken}/${id}".replace("${atoken}",String(e)).replace("${id}",String(t)),a=new r.f,o=new r.a(this.defaultHeaders.toJSON());if(null===e||void 0===e)throw new Error("Required parameter atoken was null or undefined when calling deleteDeviceOTABatch.");if(null===t||void 0===t)throw new Error("Required parameter id was null or undefined when calling deleteDeviceOTABatch.");var s=new r.e({method:r.d.Delete,headers:o,search:a});return n&&(s=Object.assign(s,n)),this.http.request(i,s)},e}();ie=ee([Object(i.Injectable)(),ne(1,Object(i.Optional)()),ne(1,Object(i.Inject)(p.a)),ne(2,Object(i.Optional)()),te("design:paramtypes",["function"==typeof(ae=void 0!==v.a&&v.a)&&ae||Object,String,"function"==typeof(oe=void 0!==m.a&&m.a)&&oe||Object])],ie);var ae,oe,re=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},se=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},le=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},ce=function(){function e(e,t,n){this.http=e,this.basePath=d.a.basePath,this.defaultHeaders=new r.a,this.configuration=new m.a,t&&(this.basePath=t),n&&(this.configuration=n)}return e.prototype.listDeviceOTABatches=function(e,t,n,i,a){return this.listDeviceOTABatchesWithHttpInfo(e,t,n,i,a).map(function(e){return 204===e.status?void 0:e.json()||{}})},e.prototype.listDeviceOTABatchesWithHttpInfo=function(e,t,n,i,a){var o=this.basePath+"/dota/list/${atoken}/${pageSize}".replace("${atoken}",String(e)).replace("${pageSize}",String(t)),s=new r.f,l=new r.a(this.defaultHeaders.toJSON());if(null===e||void 0===e)throw new Error("Required parameter atoken was null or undefined when calling listDeviceOTABatches.");if(null===t||void 0===t)throw new Error("Required parameter pageSize was null or undefined when calling listDeviceOTABatches.");void 0!==n&&s.set("direction",n),void 0!==i&&s.set("id",i);var c=new r.e({method:r.d.Get,headers:l,search:s});return a&&(c=Object.assign(c,a)),this.http.request(o,c)},e}();ce=re([Object(i.Injectable)(),le(1,Object(i.Optional)()),le(1,Object(i.Inject)(p.a)),le(2,Object(i.Optional)()),se("design:paramtypes",["function"==typeof(de=void 0!==v.a&&v.a)&&de||Object,String,"function"==typeof(fe=void 0!==m.a&&m.a)&&fe||Object])],ce);var de,fe,ue=n("qVIN"),he=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},pe=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},me=function(){function e(e,t,n,i,a,o){this.router=e,this._cookieService=t,this._createDeviceOTABatchApi=n,this._deleteDeviceOTABatchApi=i,this._listDeviceOTABatchesApi=a,this._countAllDeviceOTABatchMembersApi=o,this.notification=new D.a,this.utility=new ue.a,this.userObj={},this.deviceOTAObj={},this.modal={},this.otaBatchList=[],this.otaBatchCount=0,this.msgPagination=!1,this.msgPageSize=10,this.msgPageNo=1}return e.prototype.ngOnDestroy=function(){},e.prototype.ngOnInit=function(){this.userObj&&(this.userObj=JSON.parse(this._cookieService.get("user_details"))),this.loadOTABatchList(null,null)},e.prototype.loadOTABatchList=function(e,t){},e.prototype.loadPrevMsg=function(){this.msgPageNo>1&&(this.msgPageNo--,this.loadOTABatchList("PREV",this.otaBatchList[0].id))},e.prototype.loadNxtMsg=function(){var e=Math.ceil(this.otaBatchCount/this.msgPageSize);this.msgPageNo<e&&(this.msgPageNo++,this.loadOTABatchList("NEXT",this.otaBatchList[this.otaBatchList.length-1].id))},e}();me=he([Object(i.Component)({selector:"app-device-ota",template:n("R+dX"),styles:[n("RrE8")]}),pe("design:paramtypes",["function"==typeof(ve=void 0!==s.c&&s.c)&&ve||Object,"function"==typeof(be=void 0!==l.CookieService&&l.CookieService)&&be||Object,"function"==typeof(we=void 0!==Z&&Z)&&we||Object,"function"==typeof(ge=void 0!==ie&&ie)&&ge||Object,"function"==typeof(Oe=void 0!==ce&&ce)&&Oe||Object,"function"==typeof(ye=void 0!==J&&J)&&ye||Object])],me);var ve,be,we,ge,Oe,ye,je=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Re=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Pe=function(){function e(e,t,n,i,a,o){this.router=e,this._cookieService=t,this._createDeviceOTABatchApi=n,this._deleteDeviceOTABatchApi=i,this._listDeviceOTABatchesApi=a,this._countAllDeviceOTABatchMembersApi=o,this.notification=new D.a,this.utility=new ue.a,this.userObj={},this.deviceOTAObj={},this.modal={},this.otaBatchList=[],this.otaBatchCount=0,this.msgPagination=!1,this.msgPageSize=10,this.msgPageNo=1}return e.prototype.ngOnDestroy=function(){},e.prototype.ngOnInit=function(){this.userObj&&(this.userObj=JSON.parse(this._cookieService.get("user_details"))),this.loadOTABatchList(null,null)},e.prototype.loadOTABatchList=function(e,t){},e.prototype.loadPrevMsg=function(){this.msgPageNo>1&&(this.msgPageNo--,this.loadOTABatchList("PREV",this.otaBatchList[0].id))},e.prototype.loadNxtMsg=function(){var e=Math.ceil(this.otaBatchCount/this.msgPageSize);this.msgPageNo<e&&(this.msgPageNo++,this.loadOTABatchList("NEXT",this.otaBatchList[this.otaBatchList.length-1].id))},e}();Pe=je([Object(i.Component)({selector:"app-device-model-ota",template:n("AbEK"),styles:[n("RrE8")]}),Re("design:paramtypes",["function"==typeof(_e=void 0!==s.c&&s.c)&&_e||Object,"function"==typeof(Ae=void 0!==l.CookieService&&l.CookieService)&&Ae||Object,"function"==typeof(Fe=void 0!==Z&&Z)&&Fe||Object,"function"==typeof(Me=void 0!==ie&&ie)&&Me||Object,"function"==typeof(De=void 0!==ce&&ce)&&De||Object,"function"==typeof(Se=void 0!==J&&J)&&Se||Object])],Pe);var _e,Ae,Fe,Me,De,Se,Be=[{path:"firmware",component:T},{path:"deviceota",component:me},{path:"modelota",component:Pe}],Te=n("bJNZ"),ke=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},$e=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ee=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},Ie=function(){function e(e,t,n){this.http=e,this.basePath=d.a.basePath,this.defaultHeaders=new r.a,this.configuration=new m.a,t&&(this.basePath=t),n&&(this.configuration=n)}return e.prototype.addDeviceOTABatchMember=function(e,t,n,i){return this.addDeviceOTABatchMemberWithHttpInfo(e,t,n,i).map(function(e){return 204===e.status?void 0:e.json()||{}})},e.prototype.addDeviceOTABatchMemberWithHttpInfo=function(e,t,n,i){var a=this.basePath+"/dota/member/add/${atoken}/${id}/${did}".replace("${atoken}",String(e)).replace("${id}",String(t)).replace("${did}",String(n)),o=new r.f,s=new r.a(this.defaultHeaders.toJSON());if(null===e||void 0===e)throw new Error("Required parameter atoken was null or undefined when calling addDeviceOTABatchMember.");if(null===t||void 0===t)throw new Error("Required parameter id was null or undefined when calling addDeviceOTABatchMember.");if(null===n||void 0===n)throw new Error("Required parameter did was null or undefined when calling addDeviceOTABatchMember.");var l=new r.e({method:r.d.Delete,headers:s,search:o});return i&&(l=Object.assign(l,i)),this.http.request(a,l)},e}();Ie=ke([Object(i.Injectable)(),Ee(1,Object(i.Optional)()),Ee(1,Object(i.Inject)(p.a)),Ee(2,Object(i.Optional)()),$e("design:paramtypes",["function"==typeof(xe=void 0!==v.a&&v.a)&&xe||Object,String,"function"==typeof(qe=void 0!==m.a&&m.a)&&qe||Object])],Ie);var xe,qe,He=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Le=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ne=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},Ce=function(){function e(e,t,n){this.http=e,this.basePath=d.a.basePath,this.defaultHeaders=new r.a,this.configuration=new m.a,t&&(this.basePath=t),n&&(this.configuration=n)}return e.prototype.countAllDeviceOTABatches=function(e,t,n){return this.countAllDeviceOTABatchesWithHttpInfo(e,t,n).map(function(e){return 204===e.status?void 0:e.json()||{}})},e.prototype.countAllDeviceOTABatchesWithHttpInfo=function(e,t,n){var i=this.basePath+"/dota/count/${atoken}/${id}".replace("${atoken}",String(e)).replace("${id}",String(t)),a=new r.f,o=new r.a(this.defaultHeaders.toJSON());if(null===e||void 0===e)throw new Error("Required parameter atoken was null or undefined when calling countAllDeviceOTABatches.");if(null===t||void 0===t)throw new Error("Required parameter id was null or undefined when calling countAllDeviceOTABatches.");var s=new r.e({method:r.d.Post,headers:o,search:a});return n&&(s=Object.assign(s,n)),this.http.request(i,s)},e}();Ce=He([Object(i.Injectable)(),Ne(1,Object(i.Optional)()),Ne(1,Object(i.Inject)(p.a)),Ne(2,Object(i.Optional)()),Le("design:paramtypes",["function"==typeof(We=void 0!==v.a&&v.a)&&We||Object,String,"function"==typeof(ze=void 0!==m.a&&m.a)&&ze||Object])],Ce);var We,ze,Je=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Ve=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Ue=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},Ge=function(){function e(e,t,n){this.http=e,this.basePath=d.a.basePath,this.defaultHeaders=new r.a,this.configuration=new m.a,t&&(this.basePath=t),n&&(this.configuration=n)}return e.prototype.deleteDeviceOTABatchMember=function(e,t,n,i){return this.deleteDeviceOTABatchMemberWithHttpInfo(e,t,n,i).map(function(e){return 204===e.status?void 0:e.json()||{}})},e.prototype.deleteDeviceOTABatchMemberWithHttpInfo=function(e,t,n,i){var a=this.basePath+"/dota/member/delete/${atoken}/${id}/${did}".replace("${atoken}",String(e)).replace("${id}",String(t)).replace("${did}",String(n)),o=new r.f,s=new r.a(this.defaultHeaders.toJSON());if(null===e||void 0===e)throw new Error("Required parameter atoken was null or undefined when calling deleteDeviceOTABatchMember.");if(null===t||void 0===t)throw new Error("Required parameter id was null or undefined when calling deleteDeviceOTABatchMember.");if(null===n||void 0===n)throw new Error("Required parameter did was null or undefined when calling deleteDeviceOTABatchMember.");var l=new r.e({method:r.d.Delete,headers:s,search:o});return i&&(l=Object.assign(l,i)),this.http.request(a,l)},e}();Ge=Je([Object(i.Injectable)(),Ue(1,Object(i.Optional)()),Ue(1,Object(i.Inject)(p.a)),Ue(2,Object(i.Optional)()),Ve("design:paramtypes",["function"==typeof(Ke=void 0!==v.a&&v.a)&&Ke||Object,String,"function"==typeof(Xe=void 0!==m.a&&m.a)&&Xe||Object])],Ge);var Ke,Xe,Ze=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Ye=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Qe=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},et=function(){function e(e,t,n){this.http=e,this.basePath=d.a.basePath,this.defaultHeaders=new r.a,this.configuration=new m.a,t&&(this.basePath=t),n&&(this.configuration=n)}return e.prototype.listDeviceOTABatchMembers=function(e,t,n,i,a){return this.listDeviceOTABatchMembersWithHttpInfo(e,t,n,i,a).map(function(e){return 204===e.status?void 0:e.json()||{}})},e.prototype.listDeviceOTABatchMembersWithHttpInfo=function(e,t,n,i,a){var o=this.basePath+"/dota/member/list/${atoken}/${pageSize}".replace("${atoken}",String(e)).replace("${pageSize}",String(t)),s=new r.f,l=new r.a(this.defaultHeaders.toJSON());if(null===e||void 0===e)throw new Error("Required parameter atoken was null or undefined when calling listDeviceOTABatchMembers.");if(null===t||void 0===t)throw new Error("Required parameter pageSize was null or undefined when calling listDeviceOTABatchMembers.");void 0!==n&&s.set("direction",n),void 0!==i&&s.set("did",i);var c=new r.e({method:r.d.Get,headers:l,search:s});return a&&(c=Object.assign(c,a)),this.http.request(o,c)},e}();et=Ze([Object(i.Injectable)(),Qe(1,Object(i.Optional)()),Qe(1,Object(i.Inject)(p.a)),Qe(2,Object(i.Optional)()),Ye("design:paramtypes",["function"==typeof(tt=void 0!==v.a&&v.a)&&tt||Object,String,"function"==typeof(nt=void 0!==m.a&&m.a)&&nt||Object])],et);var tt,nt,it=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},at=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ot=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},rt=function(){function e(e,t,n){this.http=e,this.basePath=d.a.basePath,this.defaultHeaders=new r.a,this.configuration=new m.a,t&&(this.basePath=t),n&&(this.configuration=n)}return e.prototype.getDeviceOTABatch=function(e,t,n){return this.getDeviceOTABatchWithHttpInfo(e,t,n).map(function(e){return 204===e.status?void 0:e.json()||{}})},e.prototype.getDeviceOTABatchWithHttpInfo=function(e,t,n){var i=this.basePath+"/dota/get/${atoken}/${id}".replace("${atoken}",String(e)).replace("${id}",String(t)),a=new r.f,o=new r.a(this.defaultHeaders.toJSON());if(null===e||void 0===e)throw new Error("Required parameter atoken was null or undefined when calling getDeviceOTABatch.");if(null===t||void 0===t)throw new Error("Required parameter id was null or undefined when calling getDeviceOTABatch.");var s=new r.e({method:r.d.Get,headers:o,search:a});return n&&(s=Object.assign(s,n)),this.http.request(i,s)},e}();rt=it([Object(i.Injectable)(),ot(1,Object(i.Optional)()),ot(1,Object(i.Inject)(p.a)),ot(2,Object(i.Optional)()),at("design:paramtypes",["function"==typeof(st=void 0!==v.a&&v.a)&&st||Object,String,"function"==typeof(lt=void 0!==m.a&&m.a)&&lt||Object])],rt);var st,lt,ct=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},dt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},ft=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},ut=function(){function e(e,t,n){this.http=e,this.basePath=d.a.basePath,this.defaultHeaders=new r.a,this.configuration=new m.a,t&&(this.basePath=t),n&&(this.configuration=n)}return e.prototype.startDeviceOTABatch=function(e,t,n){return this.startDeviceOTABatchWithHttpInfo(e,t,n).map(function(e){return 204===e.status?void 0:e.json()||{}})},e.prototype.startDeviceOTABatchWithHttpInfo=function(e,t,n){var i=this.basePath+"/dota/start/${atoken}/${id}".replace("${atoken}",String(e)).replace("${id}",String(t)),a=new r.f,o=new r.a(this.defaultHeaders.toJSON());if(null===e||void 0===e)throw new Error("Required parameter atoken was null or undefined when calling startDeviceOTABatch.");if(null===t||void 0===t)throw new Error("Required parameter id was null or undefined when calling startDeviceOTABatch.");var s=new r.e({method:r.d.Get,headers:o,search:a});return n&&(s=Object.assign(s,n)),this.http.request(i,s)},e}();ut=ct([Object(i.Injectable)(),ft(1,Object(i.Optional)()),ft(1,Object(i.Inject)(p.a)),ft(2,Object(i.Optional)()),dt("design:paramtypes",["function"==typeof(ht=void 0!==v.a&&v.a)&&ht||Object,String,"function"==typeof(pt=void 0!==m.a&&m.a)&&pt||Object])],ut);var ht,pt,mt=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},vt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},bt=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},wt=function(){function e(e,t,n){this.http=e,this.basePath=d.a.basePath,this.defaultHeaders=new r.a,this.configuration=new m.a,t&&(this.basePath=t),n&&(this.configuration=n)}return e.prototype.downloadFirmwareFile=function(e,t,n,i){return this.downloadFirmwareFileWithHttpInfo(e,t,n,i).map(function(e){return 204===e.status?void 0:e})},e.prototype.downloadFirmwareFileWithHttpInfo=function(e,t,n,i){var a=this.basePath+"/firmware/download/${atoken}/${dmid}/${ver}".replace("${atoken}",String(e)).replace("${dmid}",String(t)).replace("${ver}",String(n)),o=new r.f,s=new r.a(this.defaultHeaders.toJSON());if(null===e||void 0===e)throw new Error("Required parameter atoken was null or undefined when calling downloadFirmwareFile.");if(null===t||void 0===t)throw new Error("Required parameter dmid was null or undefined when calling downloadFirmwareFile.");if(null===n||void 0===n)throw new Error("Required parameter ver was null or undefined when calling downloadFirmwareFile.");var l=new r.e({method:r.d.Get,headers:s,search:o});return i&&(l=Object.assign(l,i)),this.http.request(a,l)},e}();wt=mt([Object(i.Injectable)(),bt(1,Object(i.Optional)()),bt(1,Object(i.Inject)(p.a)),bt(2,Object(i.Optional)()),vt("design:paramtypes",["function"==typeof(gt=void 0!==v.a&&v.a)&&gt||Object,String,"function"==typeof(Ot=void 0!==m.a&&m.a)&&Ot||Object])],wt);var gt,Ot,yt=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},jt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Rt=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},Pt=function(){function e(e,t,n){this.http=e,this.basePath=d.a.basePath,this.defaultHeaders=new r.a,this.configuration=new m.a,t&&(this.basePath=t),n&&(this.configuration=n)}return e.prototype.getFirmware=function(e,t,n,i){return this.getFirmwareWithHttpInfo(e,t,n,i).map(function(e){return 204===e.status?void 0:e.json()||{}})},e.prototype.getFirmwareWithHttpInfo=function(e,t,n,i){var a=this.basePath+"/firmware/get/${atoken}/${dmid}/${ver}".replace("${atoken}",String(e)).replace("${dmid}",String(t)).replace("${ver}",String(n)),o=new r.f,s=new r.a(this.defaultHeaders.toJSON());if(null===e||void 0===e)throw new Error("Required parameter atoken was null or undefined when calling getFirmware.");if(null===t||void 0===t)throw new Error("Required parameter dmid was null or undefined when calling getFirmware.");if(null===n||void 0===n)throw new Error("Required parameter ver was null or undefined when calling getFirmware.");var l=new r.e({method:r.d.Get,headers:s,search:o});return i&&(l=Object.assign(l,i)),this.http.request(a,l)},e}();Pt=yt([Object(i.Injectable)(),Rt(1,Object(i.Optional)()),Rt(1,Object(i.Inject)(p.a)),Rt(2,Object(i.Optional)()),jt("design:paramtypes",["function"==typeof(_t=void 0!==v.a&&v.a)&&_t||Object,String,"function"==typeof(At=void 0!==m.a&&m.a)&&At||Object])],Pt);var _t,At,Ft=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},Mt=this&&this.__metadata||function(e,t){if("object"==typeof Reflect&&"function"==typeof Reflect.metadata)return Reflect.metadata(e,t)},Dt=this&&this.__param||function(e,t){return function(n,i){t(n,i,e)}},St=function(){function e(e,t,n){this.http=e,this.basePath=d.a.basePath,this.defaultHeaders=new r.a,this.configuration=new m.a,t&&(this.basePath=t),n&&(this.configuration=n)}return e.prototype.uploadFirmware=function(e,t,n,i,a,o){return this.uploadFirmwareWithHttpInfo(e,t,n,i,a,o).map(function(e){return 204===e.status?void 0:e.json()||{}})},e.prototype.uploadFirmwareWithHttpInfo=function(e,t,n,i,a,o){var s=this.basePath+"/firmware/upload/${atoken}/${dmid}/${ver}".replace("${atoken}",String(e)).replace("${dmid}",String(t)).replace("${ver}",String(n)),l=new r.f,c=new r.a(this.defaultHeaders.toJSON()),d=new r.f;if(null===e||void 0===e)throw new Error("Required parameter atoken was null or undefined when calling uploadFirmware.");if(null===t||void 0===t)throw new Error("Required parameter dmid was null or undefined when calling uploadFirmware.");if(null===n||void 0===n)throw new Error("Required parameter ver was null or undefined when calling uploadFirmware.");if(null===i||void 0===i)throw new Error("Required parameter binfile was null or undefined when calling uploadFirmware.");c.set("Content-Type","multipart/form-data;"),void 0!==i&&d.set("binfile",i),void 0!==a&&d.set("desc",a);var f=new r.e({method:r.d.Post,headers:c,body:d.toString(),search:l});return o&&(f=Object.assign(f,o)),this.http.request(s,f)},e}();St=Ft([Object(i.Injectable)(),Dt(1,Object(i.Optional)()),Dt(1,Object(i.Inject)(p.a)),Dt(2,Object(i.Optional)()),Mt("design:paramtypes",["function"==typeof(Bt=void 0!==v.a&&v.a)&&Bt||Object,String,"function"==typeof(Tt=void 0!==m.a&&m.a)&&Tt||Object])],St);var Bt,Tt;n.d(t,"FirmwareModule",function(){return $t});var kt=this&&this.__decorate||function(e,t,n,i){var a,o=arguments.length,r=o<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,n):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)r=Reflect.decorate(e,t,n,i);else for(var s=e.length-1;s>=0;s--)(a=e[s])&&(r=(o<3?a(r):o>3?a(t,n,r):a(t,n))||r);return o>3&&r&&Object.defineProperty(t,n,r),r},$t=function(){function e(){}return e}();$t=kt([Object(i.NgModule)({imports:[a.CommonModule,r.c,o.a,s.d.forChild(Be)],declarations:[T,me,Pe],providers:[Te.a,c.a,u.a,f.a,O,wt,Pt,h.a,St,A,Ie,Ce,J,Z,ut,ie,Ge,ce,et,rt]})],$t)},"R+dX":function(e,t){e.exports='<style>\n  .nav.nav-tabs.nav-top-border .nav-item a.nav-link.active {\n    border-top: 3px solid #FF9800;\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n    color: #555;\n  }\n\n  .nav.nav-tabs.nav-top-border .nav-item a {\n    color: #9E9E9E;\n  }\n</style>\n<div class="app-content content container-fluid" style="">\n  <div class="content-wrapper">\n    <div class="content-header row">\n\n      <h3 class="content-header-title mb-0"><i class="icon-cubes"></i> OTA Device Batches\n\n        <a href="javascript:void(0)" class="btn btn-orange float-xs-right " style="color:#fff"\n           (click)="openAddTemplateModal()">\n          <i class="icon-plus" style="color:#fff"></i> Create OTA Batch\n        </a>\n\n      </h3>\n\n      <hr>\n\n    </div>\n    <div class="content-body match-height" style="height:77vh">\n\n      <div class="card" style="">\n        <div class="card-header" *ngIf="otaBatchList.length > 0">\n          <h4 class="card-title">Total OTA Device Batches : {{otaBatchCount}}</h4>\n          <a class="heading-elements-toggle"><i class="icon-ellipsis font-medium-3"></i></a>\n          <div class="heading-elements">\n            <ul class="list-inline mb-0">\n              <li><a data-action="reload"><i class="icon-reload"></i></a></li>\n              <li><a data-action="expand"><i class="icon-expand2"></i></a></li>\n            </ul>\n          </div>\n        </div>\n        <div class="card-body collapse in">\n          <div class="card-block" >\n\n\n            <div *ngIf="otaBatchList.length === 0" style="text-align: center; padding:100px" class="grey">\n              <i class="icon-cubes font-large-5"></i>\n\n              <p class="font-medium-5 mt-1">No OTA Device Batch(s) Found in this domain.</p>\n\n            </div>\n\n\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>\n'},RrE8:function(e,t,n){t=e.exports=n("rP7Y")(!1),t.push([e.i,".actionMenuItem{font-size:13px}.inputLabel{color:#ff9700;display:block}.inputLabel,.inputLabelGrey{text-transform:uppercase;font-size:9px;font-weight:800}.inputLabelGrey{color:#666}.firmwareList li .card-body:hover{background-color:hsla(0,0%,93%,.38)}.card .card-title{font-size:1rem}.inputKey{font-size:12px;color:#666}.inputValue{font-size:13px;font-weight:700}.card-block{padding:1rem}.card-header .heading-elements,.card-header .heading-elements-toggle{top:6px}",""]),e.exports=e.exports.toString()},"SF/3":function(e,t){e.exports='<style>\n  .nav.nav-tabs.nav-top-border .nav-item a.nav-link.active {\n    border-top: 3px solid #FF9800;\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n    color: #555;\n  }\n\n  .nav.nav-tabs.nav-top-border .nav-item a {\n    color: #9E9E9E;\n  }\n</style>\n<div class="app-content content container-fluid" style="">\n  <div class="content-wrapper">\n    <div class="content-header row">\n\n      <h3 class="content-header-title mb-0"><i class="icon-file-o"></i> Manage Firmware\n\n        <a href="javascript:void(0)" class="btn btn-orange float-xs-right" style="color:#fff"\n           (click)="openAddFrimwareModal()">\n          <i class="icon-plus" style="color:#fff"></i> Upload Firmware\n        </a>\n      </h3>\n\n      <hr>\n\n    </div>\n    <div class="content-body match-height" style="height:77vh">\n\n      <div class="card" style="">\n        \x3c!--<div class="card-header">\n          <h4 class="card-title"></h4>\n          <a class="heading-elements-toggle"><i class="icon-ellipsis font-medium-3"></i></a>\n          <div class="heading-elements">\n            <ul class="list-inline mb-0">\n              <li><a data-action="reload"><i class="icon-reload"></i></a></li>\n              <li><a data-action="expand"><i class="icon-expand2"></i></a></li>\n            </ul>\n          </div>\n        </div>--\x3e\n        <div class="card-body collapse in">\n          <div class="card-block">\n            <div class="row mb-1 mt-1" *ngIf="firmwareList.length > 0">\n              <div class="col-md-3">\n                <label class="inputLabel">Select Device Model</label>\n                <select [(ngModel)]="deviceModel" class="form-control input-sm"\n                        (ngModelChange)="loadFirmwareVersion($event)">\n                  <option *ngFor="let model of modelList" value="{{model.id}}">{{model.id}}</option>\n                </select>\n              </div>\n              <div class="col-md-9">\n                <p style="text-align: right;color: #373a3c;" *ngIf="firmwareModelCount"> Total Firmware Version: <b>{{firmwareModelCount}}</b>\n                </p>\n              </div>\n            </div>\n\n\n            <div class="row" *ngIf="firmwareList.length > 0">\n              <div class="col-md-12">\n                <nav aria-label="Page navigation" *ngIf="msgPagination">\n                  <ul class="pagination pull-right" style="width:100%">\n                    <li class="col-md-6">\n                      <a (click)="loadPrevMsg()" href="javascript:void(0)" class="brown"\n                         aria-label="Previous">\n                        <span aria-hidden="true">&laquo; Previous</span>\n                      </a>\n                    </li>\n                    <li class="col-md-6" style="text-align:right">\n                      <a (click)="loadNxtMsg()" href="javascript:void(0)" class="brown"\n                         aria-label="Next">\n                        <span aria-hidden="true">Next &raquo;</span>\n                      </a>\n                    </li>\n                  </ul>\n                </nav>\n              </div>\n              <div class="col-md-12">\n                <ul class="firmwareList">\n\n                  <li *ngFor="let firmware of firmwareList" class="col-lg-4 col-md-6 col-xs-12 ">\n\n                    <div class="card zoomIn animated" data-appear="appear" data-animation="zoomIn">\n                      <div class="card-header card-head-inverse" style="background-color: #1d2b36">\n                        <h4 class="card-title" style="text-transform: none" id="heading-multiple-icons">\n                          {{firmware.fileName}}</h4>\n                        <a class="heading-elements-toggle"><i class="icon-ellipsis font-medium-3"></i></a>\n                        <div class="heading-elements">\n                          <ul class="list-inline mb-0">\n                            <li><a href="javascript:void(0)" title="Download" (click)="downloadFirmware(firmware)"><i\n                              class="icon-cloud-download2"></i></a></li>\n                            <li><a href="javascript:void(0)" title="Delete" (click)="openDeleteFirmwareModal(firmware)"><i\n                              class="icon-trash2"></i></a></li>\n                          </ul>\n                        </div>\n                      </div>\n                      <div class="card-body collapse in">\n                        <div class="card-block" style="height: 150px;overflow: auto">\n                          <div class="row">\n                            <div class="col-md-5">\n                              <label class="inputKey">ContentType</label>\n                            </div>\n                            <div class="col-md-7">\n                              <label class="inputValue">{{firmware.contentType}}</label>\n                            </div>\n                          </div>\n                          <div class="row">\n                            <div class="col-md-5">\n                              <label class="inputKey">Uploaded Time</label>\n                            </div>\n                            <div class="col-md-7">\n                              <label class="inputValue">{{firmware.createAt | date:"MM/dd/yyyy hh:mm a"}}</label>\n                            </div>\n                          </div>\n                          <div class="row">\n                            <div class="col-md-5">\n                              <label class="inputKey">Description</label>\n                            </div>\n                            <div class="col-md-7">\n                              <label class="inputValue">{{firmware.description}}</label>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                      <div class="card-footer text-muted">\n                        <span>Version</span>\n                        <span class="float-xs-right">\n                          <span class="tag tag-success" style="font-size: 75%">{{firmware.version}}</span>\n                        </span>\n                      </div>\n                    </div>\n\n                  </li>\n\n                </ul>\n              </div>\n              <div class="col-md-12">\n                <nav aria-label="Page navigation" *ngIf="msgPagination">\n                  <ul class="pagination pull-right" style="width:100%">\n                    <li class="col-md-6">\n                      <a (click)="loadPrevMsg()" href="javascript:void(0)" class="brown"\n                         aria-label="Previous">\n                        <span aria-hidden="true">&laquo; Previous</span>\n                      </a>\n                    </li>\n                    <li class="col-md-6" style="text-align:right">\n                      <a (click)="loadNxtMsg()" href="javascript:void(0)" class="brown"\n                         aria-label="Next">\n                        <span aria-hidden="true">Next &raquo;</span>\n                      </a>\n                    </li>\n                  </ul>\n                </nav>\n              </div>\n            </div>\n\n\n            <div *ngIf="firmwareList.length === 0" style="text-align: center; padding:100px 0px" class="grey">\n              <i class="icon-hdd-o font-large-5"></i>\n              <div style="text-align:center">\n                <label class="inputLabel">Choose Device Model</label>\n                <select [(ngModel)]="deviceModel" class="form-control input-sm"\n                        (ngModelChange)="loadFirmwareVersion($event)" style="font-size:14px;width:50%;margin:0px auto">\n                  <option *ngFor="let model of modelList" value="{{model.id}}">{{model.id}}</option>\n                </select>\n              </div>\n              <p class="font-medium-5 mt-1">Total Firmware: {{firmwareCount}}</p>\n\n            </div>\n\n\n          </div>\n        </div>\n      </div>\n\n    </div>\n  </div>\n</div>\n\n\n<div id="widgetModal_firmware" class="modal fade" tabindex="-1" role="dialog" style="">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n          aria-hidden="true">&times;</span></button>\n        <h4 class="modal-title"><i class="icon-file-o"></i> {{modal.title}}</h4>\n      </div>\n\n      <form name="firmwareForm" enctype="multipart/form-data" (ngSubmit)="upsertFirmwareModal(firmwareForm)" #firmwareForm="ngForm" novalidate autocomplete="off">\n\n        <div class="modal-body" style="padding-top:0px">\n\n          <div class="row" style="margin-top:10px;">\n            <div class="col-md-6">\n              <div class="form-group">\n                <label class="inputLabel">Model Id</label>\n\n                <select [(ngModel)]="firmwareObj.deviceModel" class="form-control input-sm" *ngIf="modal.disabled" name="deviceModel" #deviceModel="ngModel" required>\n                  <option *ngFor="let model of modelList" value="{{model.id}}">{{model.id}}</option>\n                </select>\n\n                \x3c!--<select [(ngModel)]="firmwareObj.deviceModel" class="form-control input-sm" disabled="disabled"\n                        *ngIf="!modal.disabled" name="deviceModel" #deviceModel="ngModel" required>\n                  <option *ngFor="let model of modelList" value="{{model.id}}">{{model.id}}</option>\n                </select>--\x3e\n\n              </div>\n            </div>\n            <div class="col-md-6">\n              <div class="form-group">\n                <label class="inputLabel">Version</label>\n                <input type="text" class="form-control input-sm" placeholder="" readonly="{{modal.action}}"\n                       [(ngModel)]="firmwareObj.version" name="version" #version="ngModel" required>\n              </div>\n            </div>\n          </div>\n          <div class="row">\n            <div class="col-md-12">\n              <div class="form-group">\n                <label class="inputLabel">Description</label>\n                <textarea [(ngModel)]="firmwareObj.description" class="form-control input-sm" name="description" #description="ngModel"></textarea>\n              </div>\n            </div>\n          </div>\n\n          <div class="row">\n            <div class="col-md-12">\n              <div class="form-group">\n                <label class="inputLabel">Choose firmware file</label>\n                <input type="file" name="binfile" id="firmwareFile" [(ngModel)]="firmwareObj.binfile" #binfile="ngModel" >\n              </div>\n            </div>\n          </div>\n\n\n        </div>\n\n        <div class="modal-footer">\n          <button type="button" class="btn btn-default btn-border" data-dismiss="modal">Close</button>\n          <button type="submit" id="uploadBtn"  [disabled]="!firmwareForm.valid" class="btn btn-primary btn-orange" >{{modal.button}}</button>\n        </div>\n      </form>\n    </div>\n  </div>\n</div>\n\n<div id="widgetModal_firmware_delete" class="modal fade" tabindex="-1" role="dialog" style="">\n  <div class="modal-dialog" role="document">\n    <div class="modal-content">\n      <div class="modal-header">\n        <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span\n          aria-hidden="true">&times;</span></button>\n        <h4 class="modal-title"><i class="icon-file-o"></i> Delete Firmware Version</h4>\n      </div>\n      <div class="modal-body" style="padding-top:0px">\n\n        <div class="row" style="margin-top:10px;">\n          <div class="col-md-12">\n            <p class="font-medium-3 grey"> Are you sure want to delete the <b>{{firmwareObj.fileName}}-\n              [{{firmwareObj.version}}]</b> version?</p>\n          </div>\n        </div>\n\n      </div>\n      <div class="modal-footer">\n        <button type="button" class="btn btn-default btn-border" data-dismiss="modal">Close</button>\n        <button type="button" class="btn btn-primary btn-orange" (click)="deleteFirmwareModel()">Proceed</button>\n      </div>\n    </div>\n  </div>\n</div>\n'}});